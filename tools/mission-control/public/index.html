<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mission Control Dashboard</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="app-container">
    <header class="header">
      <h1>ğŸš€ Mission Control</h1>
      <div class="header-actions">
        <button id="theme-toggle" class="btn-icon" title="Toggle Theme">ğŸŒ“</button>
        <span id="connection-status" class="status-badge offline">Offline</span>
      </div>
    </header>
    
    <main class="dashboard">
      <!-- Command Center Panel -->
      <section class="panel panel-command-center" data-panel="command-center">
        <header class="panel-header">
          <h2>ğŸ¯ Command Center</h2>
        </header>
        <div class="panel-content">
          <div class="command-intro">
            <p>What do you need?</p>
          </div>
          <div class="command-input-area">
            <input type="text" id="command-input" placeholder="e.g., 'Research Node.js best practices' or 'Build a todo app'...">
            <button id="command-submit" class="btn-primary">Execute</button>
          </div>
          <div class="command-suggestions">
            <span class="suggestion-label">Quick commands:</span>
            <button class="suggestion-btn" data-intent="research">ğŸ” Research</button>
            <button class="suggestion-btn" data-intent="dev">ğŸ’» Develop</button>
            <button class="suggestion-btn" data-intent="write">ğŸ“ Write</button>
            <button class="suggestion-btn" data-intent="analyze">ğŸ“Š Analyze</button>
          </div>
          <div id="command-progress" class="command-progress hidden">
            <div class="progress-header">
              <span class="progress-status">Initializing...</span>
              <span class="progress-agent">Agent: <span id="progress-agent-name">--</span></span>
            </div>
            <div class="progress-bar">
              <div class="progress-fill" id="progress-fill"></div>
            </div>
            <div class="progress-logs" id="progress-logs"></div>
          </div>
        </div>
      </section>

      <!-- Agent Control Panel -->
      <section class="panel panel-agents" data-panel="agents">
        <header class="panel-header">
          <h2>ğŸ¤– Agent Control</h2>
        </header>
        <div class="panel-content">
          <div class="agent-spawn-buttons">
            <button id="spawn-research" class="agent-btn agent-research">
              <span class="agent-icon">ğŸ”</span>
              <span class="agent-label">Spawn Research Agent</span>
            </button>
            <button id="spawn-dev" class="agent-btn agent-dev">
              <span class="agent-icon">ğŸ’»</span>
              <span class="agent-label">Spawn Dev Agent</span>
            </button>
          </div>
          <div class="agents-section">
            <h3>Running Agents</h3>
            <div id="running-agents" class="agents-list">
              <p class="empty-state">No active agents</p>
            </div>
          </div>
          <div class="agents-section">
            <h3>Recent Completions</h3>
            <div id="completed-agents" class="agents-list completed">
              <p class="empty-state">No recent completions</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Todoist Tasks Panel -->
      <section class="panel panel-todoist" data-panel="todoist">
        <header class="panel-header">
          <h2>ğŸ“‹ Todoist Tasks</h2>
          <div class="panel-actions">
            <select id="todoist-filter" class="filter-select">
              <option value="all">All</option>
              <option value="Development">Development</option>
              <option value="Research">Research</option>
              <option value="Design">Design</option>
            </select>
            <button id="todoist-refresh" class="btn-icon" title="Refresh">ğŸ”„</button>
          </div>
        </header>
        <div class="panel-content">
          <div id="todoist-tasks" class="tasks-list">
            <p class="empty-state">Loading tasks...</p>
          </div>
          <div class="task-input-area">
            <input type="text" id="todoist-new-task" placeholder="Add a new task...">
            <select id="todoist-section">
              <option value="">No Section</option>
              <option value="Development">Development</option>
              <option value="Research">Research</option>
              <option value="Design">Design</option>
            </select>
            <button id="todoist-add" class="btn-primary">Add</button>
          </div>
        </div>
      </section>

      <!-- Project Context Panel -->
      <section class="panel panel-project" data-panel="project">
        <header class="panel-header">
          <h2>ğŸ“ Project Context</h2>
        </header>
        <div class="panel-content">
          <div class="project-info">
            <div class="project-header">
              <span class="project-icon">ğŸ—‚ï¸</span>
              <div class="project-details">
                <span id="project-name" class="project-name">Loading...</span>
                <span id="project-branch" class="project-branch">--</span>
              </div>
            </div>
          </div>
          <div class="project-section">
            <h3>ğŸ“ Recent Commits</h3>
            <div id="recent-commits" class="commits-list">
              <p class="empty-state">No recent commits</p>
            </div>
          </div>
          <div class="project-section">
            <h3>ğŸ”„ Recent Changes</h3>
            <div id="recent-files" class="files-list">
              <p class="empty-state">No recent changes</p>
            </div>
          </div>
          <div class="project-actions">
            <button id="open-vscode" class="btn-secondary">
              <span>ğŸ“</span> Open in VS Code
            </button>
            <button id="open-folder" class="btn-secondary">
              <span>ğŸ“‚</span> Open Folder
            </button>
          </div>
        </div>
      </section>

      <!-- Chat Panel -->
      <section class="panel panel-chat" data-panel="chat">
        <header class="panel-header">
          <h2>ğŸ’¬ Chat</h2>
        </header>
        <div class="panel-content">
          <div id="chat-messages" class="chat-messages"></div>
          <div class="chat-input">
            <input type="text" id="chat-input" placeholder="Type a message...">
            <button id="chat-send" class="btn-primary">Send</button>
          </div>
        </div>
      </section>

      <!-- Memory Panel -->
      <section class="panel panel-memory" data-panel="memory">
        <header class="panel-header">
          <h2>ğŸ§  Memory</h2>
        </header>
        <div class="panel-content">
          <div id="memory-list" class="memory-list">
            <p class="empty-state">No memories stored</p>
          </div>
          <div class="memory-input">
            <input type="text" id="memory-input" placeholder="Add a memory...">
            <button id="memory-add" class="btn-primary">Add</button>
          </div>
        </div>
      </section>

      <!-- Files Panel -->
      <section class="panel panel-files" data-panel="files">
        <header class="panel-header">
          <h2>ğŸ“ Files</h2>
        </header>
        <div class="panel-content">
          <div id="files-list" class="files-list">
            <p class="empty-state">No files uploaded</p>
          </div>
          <div class="file-upload">
            <input type="file" id="file-input" hidden>
            <button id="file-select" class="btn-secondary">Choose File</button>
            <button id="file-upload" class="btn-primary" disabled>Upload</button>
          </div>
        </div>
      </section>

      <!-- Tools Panel -->
      <section class="panel panel-tools" data-panel="tools">
        <header class="panel-header">
          <h2>ğŸ› ï¸ Tools</h2>
        </header>
        <div class="panel-content">
          <div class="tools-grid">
            <button class="tool-btn" data-tool="search">
              <span class="tool-icon">ğŸ”</span>
              <span class="tool-name">Search</span>
            </button>
            <button class="tool-btn" data-tool="browser">
              <span class="tool-icon">ğŸŒ</span>
              <span class="tool-name">Browser</span>
            </button>
            <button class="tool-btn" data-tool="exec">
              <span class="tool-icon">âš¡</span>
              <span class="tool-name">Execute</span>
            </button>
            <button class="tool-btn" data-tool="image">
              <span class="tool-icon">ğŸ–¼ï¸</span>
              <span class="tool-name">Image</span>
            </button>
            <button class="tool-btn" data-tool="tts">
              <span class="tool-icon">ğŸ”Š</span>
              <span class="tool-name">TTS</span>
            </button>
            <button class="tool-btn" data-tool="canvas">
              <span class="tool-icon">ğŸ¨</span>
              <span class="tool-name">Canvas</span>
            </button>
          </div>
        </div>
      </section>

      <!-- Status Panel -->
      <section class="panel panel-status" data-panel="status">
        <header class="panel-header">
          <h2>ğŸ“Š Status</h2>
        </header>
        <div class="panel-content">
          <div class="status-grid">
            <div class="status-item">
              <span class="status-label">Status</span>
              <span id="system-status" class="status-value">Checking...</span>
            </div>
            <div class="status-item">
              <span class="status-label">Uptime</span>
              <span id="system-uptime" class="status-value">--</span>
            </div>
            <div class="status-item">
              <span class="status-label">Version</span>
              <span id="system-version" class="status-value">--</span>
            </div>
            <div class="status-item">
              <span class="status-label">Last Update</span>
              <span id="system-timestamp" class="status-value">--</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Local Tasks Panel -->
      <section class="panel panel-tasks" data-panel="tasks">
        <header class="panel-header">
          <h2>âœ… Local Tasks</h2>
        </header>
        <div class="panel-content">
          <div id="tasks-list" class="tasks-list">
            <p class="empty-state">No tasks</p>
          </div>
          <div class="task-input">
            <input type="text" id="task-input" placeholder="New task...">
            <button id="task-add" class="btn-primary">Add</button>
          </div>
        </div>
      </section>

      <!-- Config Panel -->
      <section class="panel panel-config" data-panel="config">
        <header class="panel-header">
          <h2>âš™ï¸ Config</h2>
        </header>
        <div class="panel-content">
          <div class="config-form">
            <div class="config-group">
              <label for="config-theme">Theme</label>
              <select id="config-theme">
                <option value="auto">Auto</option>
                <option value="light">Light</option>
                <option value="dark">Dark</option>
              </select>
            </div>
            <div class="config-group">
              <label for="config-notifications">Notifications</label>
              <input type="checkbox" id="config-notifications" checked>
            </div>
            <div class="config-group">
              <label for="config-refresh">Auto Refresh (seconds)</label>
              <input type="number" id="config-refresh" value="30" min="5" max="300">
            </div>
            <button id="config-save" class="btn-primary">Save Config</button>
          </div>
        </div>
      </section>
    </main>
  </div>
  
  <script src="app.js"></script>
</body>
</html>
