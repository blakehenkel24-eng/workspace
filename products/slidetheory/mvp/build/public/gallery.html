<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SlideTheory - Template Gallery</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="gallery.css">
</head>
<body>
  <!-- Skip to content link for keyboard users -->
  <a href="#main-content" class="skip-link">Skip to main content</a>
  
  <div class="app">
    <!-- Header -->
    <header class="header">
      <div class="logo">Slide<span class="logo-accent">Theory</span>
        <span class="version-badge">Gallery</span>
      </div>
      <div class="header-actions">
        <button class="icon-btn" id="backToAppBtn" title="Back to App" aria-label="Back to application">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <path d="M19 12H5"/>
            <path d="M12 19l-7-7 7-7"/>
          </svg>
        </button>
        <button class="icon-btn" id="helpBtn" title="Help" aria-label="Open help">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <circle cx="12" cy="12" r="10"/>
            <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
            <path d="M12 17h.01"/>
          </svg>
        </button>
      </div>
    </header>

    <!-- Main Content -->
    <main class="gallery-main" id="main-content">
      <!-- Hero Section -->
      <section class="gallery-hero">
        <h1 class="gallery-title">Template Gallery</h1>
        <p class="gallery-subtitle">Professional MBB-style slide templates with intelligent formatting</p>
      </section>

      <!-- Filters Section -->
      <section class="gallery-filters" aria-label="Template filters">
        <div class="filter-group">
          <label class="filter-label" for="typeFilter">Type</label>
          <select class="filter-select" id="typeFilter">
            <option value="">All Types</option>
            <option value="Executive Summary">Executive Summary</option>
            <option value="Market Analysis">Market Analysis</option>
            <option value="Financial Model">Financial Model</option>
            <option value="Competitive Analysis">Competitive Analysis</option>
            <option value="Growth Strategy">Growth Strategy</option>
            <option value="Risk Assessment">Risk Assessment</option>
          </select>
        </div>

        <div class="filter-group">
          <label class="filter-label" for="audienceFilter">Audience</label>
          <select class="filter-select" id="audienceFilter">
            <option value="">All Audiences</option>
            <option value="C-Suite/Board">C-Suite / Board</option>
            <option value="External Client">External Client</option>
            <option value="Internal/Working Team">Internal Team</option>
            <option value="PE/Investors">PE / Investors</option>
          </select>
        </div>

        <div class="filter-group">
          <label class="filter-label" for="useCaseFilter">Use Case</label>
          <select class="filter-select" id="useCaseFilter">
            <option value="">All Use Cases</option>
            <option value="Pitch Deck">Pitch Deck</option>
            <option value="Strategy">Strategy</option>
            <option value="Due Diligence">Due Diligence</option>
            <option value="Financial">Financial</option>
            <option value="Board">Board</option>
            <option value="Operational">Operational</option>
          </select>
        </div>

        <div class="filter-actions">
          <button class="btn btn--secondary btn--sm" id="resetFilters">Reset</button>
          <button class="btn btn--primary btn--sm" id="showFavoritesBtn">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
            </svg>
            Favorites
          </button>
        </div>
      </section>

      <!-- Recently Used Section -->
      <section class="recently-used-section" id="recentlyUsedSection" style="display: none;">
        <div class="section-header">
          <h2 class="section-title">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <polyline points="12 6 12 12 16 14"/>
            </svg>
            Recently Used
          </h2>
          <button class="btn btn--ghost btn--sm" id="clearRecent">Clear</button>
        </div>
        <div class="templates-grid" id="recentlyUsedGrid"></div>
      </section>

      <!-- All Templates Section -->
      <section class="templates-section">
        <div class="section-header">
          <h2 class="section-title">All Templates</h2>
          <span class="templates-count" id="templatesCount">Loading...</span>
        </div>
        <div class="templates-grid" id="templatesGrid"></div>
      </section>
    </main>
  </div>

  <!-- Preview Modal -->
  <div class="modal" id="previewModal" role="dialog" aria-modal="true" aria-labelledby="previewTitle">
    <div class="modal-backdrop"></div>
    <div class="modal-content modal-content--large">
      <div class="modal-header">
        <div class="modal-title-group">
          <h3 class="modal-title" id="previewTitle">Template Preview</h3>
          <span class="modal-subtitle" id="previewSubtitle"></span>
        </div>
        <button class="modal-close" id="modalClose" aria-label="Close preview">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"
            <path d="M18 6 6 18"/>
            <path d="m6 6 12 12"/>
          </svg>
        </button>
      </div>
      <div class="modal-body">
        <div class="preview-container">
          <div class="slide-preview-frame" id="previewFrame">
            <!-- Preview content injected here -->
          </div>
        </div>
        <div class="preview-details">
          <div class="preview-meta">
            <div class="meta-item">
              <span class="meta-label">Type</span>
              <span class="meta-value" id="previewType"></span>
            </div>
            <div class="meta-item">
              <span class="meta-label">Audience</span>
              <span class="meta-value" id="previewAudience"></span>
            </div>
            <div class="meta-item">
              <span class="meta-label">Framework</span>
              <span class="meta-value" id="previewFramework"></span>
            </div>
          </div>
          <div class="preview-rating">
            <span class="rating-label">Rate this template</span>
            <div class="star-rating" id="starRating">
              <button class="star" data-rating="1" aria-label="1 star">★</button>
              <button class="star" data-rating="2" aria-label="2 stars">★</button>
              <button class="star" data-rating="3" aria-label="3 stars">★</button>
              <button class="star" data-rating="4" aria-label="4 stars">★</button>
              <button class="star" data-rating="5" aria-label="5 stars">★</button>
            </div>
            <span class="rating-average" id="ratingAverage"></span>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn--secondary" id="favoriteBtn">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
          </svg>
          <span id="favoriteText">Add to Favorites</span>
        </button>
        <button class="btn btn--primary" id="useTemplateBtn">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
          </svg>
          Use This Template
        </button>
      </div>
    </div>
  </div>

  <!-- Toast Container -->
  <div id="toastContainer"></div>

  <script src="gallery.js"></script>
</body>
</html>
