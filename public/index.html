<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#0f172a">
  <title>DocuGen - AI Document Generator</title>
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <div class="app-container">
    <!-- Header -->
    <header class="app-header">
      <h1 class="app-title">DocuGen</h1>
      <span class="app-badge">Beta</span>
    </header>

    <!-- Mobile Step Indicator -->
    <nav class="stepper" aria-label="Form steps">
      <div class="stepper-track">
        <button class="step active" data-step="1" aria-current="step">
          <span class="step-number">1</span>
          <span class="step-label">Form</span>
        </button>
        <div class="stepper-line"></div>
        <button class="step" data-step="2">
          <span class="step-number">2</span>
          <span class="step-label">Preview</span>
        </button>
      </div>
    </nav>

    <!-- Main Content Area with Swipe Support -->
    <main class="main-content" id="mainContent">
      <!-- Step 1: Form -->
      <section class="step-panel active" id="formStep" aria-labelledby="form-heading">
        <h2 id="form-heading" class="sr-only">Document Form</h2>
        
        <form class="doc-form" id="docForm" novalidate>
          <!-- Template Selector -->
          <div class="form-group">
            <label for="template" class="form-label">Document Template</label>
            <select id="template" class="form-select" required>
              <option value="" disabled selected>Select a template</option>
              <option value="meeting">Meeting Notes</option>
              <option value="proposal">Project Proposal</option>
              <option value="report">Status Report</option>
              <option value="letter">Business Letter</option>
            </select>
          </div>

          <!-- Title Input -->
          <div class="form-group">
            <label for="title" class="form-label">Document Title</label>
            <input type="text" id="title" class="form-input" placeholder="Enter document title" required>
          </div>

          <!-- Content Textarea -->
          <div class="form-group">
            <label for="content" class="form-label">Content</label>
            <textarea id="content" class="form-textarea" rows="8" placeholder="Enter your content here..." required></textarea>
            <span class="form-hint">Minimum 16px font for mobile accessibility</span>
          </div>

          <!-- Options -->
          <div class="form-group">
            <label class="form-label">Options</label>
            <label class="checkbox-label touch-target">
              <input type="checkbox" id="includeHeader" checked>
              <span class="checkbox-text">Include header</span>
            </label>
            <label class="checkbox-label touch-target">
              <input type="checkbox" id="includeFooter" checked>
              <span class="checkbox-text">Include footer</span>
            </label>
            <label class="checkbox-label touch-target">
              <input type="checkbox" id="aiEnhance">
              <span class="checkbox-text">AI enhancement</span>
            </label>
          </div>

          <!-- Generate Button -->
          <button type="submit" class="btn btn-primary btn-large touch-target">
            <span class="btn-text">Generate Preview</span>
            <span class="btn-icon" aria-hidden="true">‚Üí</span>
          </button>
        </form>
      </section>

      <!-- Step 2: Preview -->
      <section class="step-panel" id="previewStep" aria-labelledby="preview-heading" hidden>
        <h2 id="preview-heading" class="sr-only">Document Preview</h2>
        
        <div class="preview-container">
          <div class="preview-toolbar">
            <button class="btn btn-icon touch-target" id="refreshPreview" aria-label="Refresh preview">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M23 4v6h-6M1 20v-6h6M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
              </svg>
            </button>
            <span class="preview-status">Last updated: <time id="lastUpdated">Just now</time></span>
          </div>

          <div class="preview-document" id="previewContent">
            <div class="doc-header">
              <h3 id="previewTitle">Document Title</h3>
              <p class="doc-meta" id="previewMeta">Generated on Feb 5, 2026</p>
            </div>
            <div class="doc-body" id="previewBody">
              <p>Your document content will appear here...</p>
            </div>
            <div class="doc-footer">
              <p>Generated by DocuGen</p>
            </div>
          </div>
        </div>

        <!-- Export Button -->
        <button type="button" class="btn btn-secondary btn-large touch-target" id="exportBtn">
          <span class="btn-text">Export Document</span>
          <span class="btn-icon" aria-hidden="true">‚Üì</span>
        </button>
      </section>
    </main>

    <!-- Floating Toggle Button -->
    <button class="fab" id="stepToggle" aria-label="Switch to preview" data-target="preview">
      <span class="fab-icon" aria-hidden="true">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
          <polyline points="14 2 14 8 20 8"/>
          <line x1="16" y1="13" x2="8" y2="13"/>
          <line x1="16" y1="17" x2="8" y2="17"/>
          <polyline points="10 9 9 9 8 9"/>
        </svg>
      </span>
      <span class="fab-text">Preview</span>
    </button>

    <!-- Swipe Hint -->
    <div class="swipe-hint" id="swipeHint" aria-hidden="true">
      <span class="swipe-hint-text">Swipe for Preview ‚Üí</span>
    </div>

    <!-- Bottom Sheet for Export Options -->
    <div class="bottom-sheet-overlay" id="bottomSheetOverlay" aria-hidden="true"></div>
    <div class="bottom-sheet" id="bottomSheet" role="dialog" aria-modal="true" aria-labelledby="export-title" hidden>
      <div class="bottom-sheet-handle" aria-hidden="true"></div>
      <div class="bottom-sheet-header">
        <h3 id="export-title" class="bottom-sheet-title">Export Document</h3>
        <button class="btn btn-icon touch-target" id="closeBottomSheet" aria-label="Close export options">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"/>
            <line x1="6" y1="6" x2="18" y2="18"/>
          </svg>
        </button>
      </div>
      <div class="bottom-sheet-content">
        <button class="export-option touch-target" data-format="pdf">
          <span class="export-icon">üìÑ</span>
          <span class="export-info">
            <span class="export-name">Export as PDF</span>
            <span class="export-desc">Professional document format</span>
          </span>
        </button>
        <button class="export-option touch-target" data-format="docx">
          <span class="export-icon">üìù</span>
          <span class="export-info">
            <span class="export-name">Export as Word</span>
            <span class="export-desc">Editable .docx format</span>
          </span>
        </button>
        <button class="export-option touch-target" data-format="md">
          <span class="export-icon">üìã</span>
          <span class="export-info">
            <span class="export-name">Export as Markdown</span>
            <span class="export-desc">Plain text with formatting</span>
          </span>
        </button>
        <button class="export-option touch-target" data-format="txt">
          <span class="export-icon">üìÉ</span>
          <span class="export-info">
            <span class="export-name">Export as Text</span>
            <span class="export-desc">Simple plain text file</span>
          </span>
        </button>
      </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast" role="status" aria-live="polite" aria-atomic="true"></div>
  </div>

  <script src="../app.js"></script>
</body>
</html>